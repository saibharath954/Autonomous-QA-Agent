<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>E-Shop Checkout</title>
    <style>
        .error-msg { color: red; display: none; }
        .success-msg { color: green; display: none; }
        #pay-now-btn { background-color: green; color: white; padding: 10px; border: none; cursor: pointer; }
    </style>
</head>
<body>
    <h1>E-Shop Checkout</h1>
    
    <div id="cart-summary">
        <h2>Cart Summary</h2>
        <div class="item">
            <span>Wireless Headphones</span>
            <input type="number" id="qty-headphones" value="1" min="1">
            <button class="add-btn" onclick="updateTotal()">Update</button>
        </div>
        <div class="item">
            <span>Phone Case</span>
            <input type="number" id="qty-case" value="1" min="1">
            <button class="add-btn" onclick="updateTotal()">Update</button>
        </div>
        <p>Total: $<span id="total-price">100.00</span></p>
        
        <label>Discount Code:</label>
        <input type="text" id="discount-code">
        <button id="apply-discount" onclick="applyDiscount()">Apply</button>
        <span id="discount-message"></span>
    </div>

    <form id="checkout-form" onsubmit="event.preventDefault(); validateForm();">
        <h2>User Details</h2>
        <label>Name: <input type="text" id="name" required></label><br>
        <label>Email: <input type="email" id="email" required></label>
        <span id="email-error" class="error-msg">Invalid Email Format</span><br>
        <label>Address: <input type="text" id="address" required></label><br>
        
        <h3>Shipping Method</h3>
        <label><input type="radio" name="shipping" value="standard" checked onclick="updateTotal()"> Standard (Free)</label>
        <label><input type="radio" name="shipping" value="express" onclick="updateTotal()"> Express ($10)</label>
        
        <h3>Payment Method</h3>
        <label><input type="radio" name="payment" value="credit_card" checked> Credit Card</label>
        <label><input type="radio" name="payment" value="paypal"> PayPal</label>
        <br><br>
        
        <button type="submit" id="pay-now-btn">Pay Now</button>
    </form>
    
    <div id="payment-success" class="success-msg">Payment Successful!</div>

    <script>
        function validateForm() {
            const email = document.getElementById('email').value;
            const errorMsg = document.getElementById('email-error');
            const successMsg = document.getElementById('payment-success');
            
            if (!email.includes('@')) {
                errorMsg.style.display = 'inline';
                successMsg.style.display = 'none';
            } else {
                errorMsg.style.display = 'none';
                successMsg.style.display = 'block';
            }
        }
        function applyDiscount() {
            const code = document.getElementById('discount-code').value;
            const msg = document.getElementById('discount-message');
            if(code === 'SAVE15') msg.innerText = "15% Discount Applied";
            else msg.innerText = "Invalid Code";
        }
        function updateTotal() {
            // Placeholder logic for demo
            console.log("Updating total...");
        }
    </script>
</body>
</html>